<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>验证API</title>
	<script type="text/javascript" src='jquery-1.11.1.js'></script>
	<script type="text/javascript" src="hbValidator.js"></script>
	<style type="text/css">
		body,div,h1,ul,li,dl,dt,dd,h1,h2{margin:0;padding:0;}
		body{font-size:16px;font-family:'Microsoft Yahei', Tahoma, Arial;}
		ul,dt{list-style:none;}
		a{text-decoration: none;text-shadow:0 0  2px #fff;}
		.br4{-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;}
		.head{width:960px;margin:0 auto;height:50px;line-height:50px;background:#103858;text-align:center;}
		.head h1{font-size:15px;color:#fff;text-shadow:0 0 3px #fff;}
		.wrap{width:960px;margin:10px auto 0 auto;overflow:hidden;zoom:1;}
		.rule{margin:10px 0;font-size:15px;color:#f00;}
		.pl1{margin-left:50px;}
		.pl2{margin-left:100px;}
		.pl3{margin-left:150px;}
		.pl4{margin-left:200px;}
		.pl5{margin-left:250px;}
		.comment{display:inline-block;padding-left:5px;color:#000000}
		.right{color:#3DA3EF;}
		.right:before{content:'√'}
		.wrong{color:#f00}
		.wrong:before{content:'X'}
		input[type='text']{width:200px;height:23px;line-height:23px;border:1px solid #cecece;padding:2px 3px;font-size:12px;font-family: arial;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;}
		input[type='text']:focus{background:#fafafa;}
		fieldset{margin-top:10px;}
		legend{font-weight:700;text-shadow:0 0 2px #000;}
		.runCode{display:inline-block;padding:3px 10px;height:26px;line-height:26px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;text-align:center;background:#cecece;color:#fff;
			margin:10px 0 0 10px;
			background: -moz-linear-gradient(top, #3BE, #28C);
			background: -webkit-linear-gradient(top, #3BE, #28C);
			background: linear-gradient(top, #3BE, #28C);
		}
		.runCode:hover{
			background:-webkit-linear-gradient(top, #28C, #3BE);
			background:-moz-linear-gradient(top, #28C, #3BE);
			background:linear-gradient(top, #28C, #3BE);
		}
		.html,.js,.show{margin-top:10px;padding:5px 10px;border-bottom:1px solid #cecece;}
		.html{color:#A6E22E;}
		.js{color:#3DA3EF;}
		.html h2,.show h2,.js h2{padding:5px 15px;border:0 none;background:#EDEDED;width:100px;height:30px;line-height:30px;text-align:center;font-size:16px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;}
		.html code,.show ul,.js code{display:block;padding:15px 28px;}
		.show ul li{margin-bottom:8px;}
		.show dl dd{display:inline-block;margin-right:10px;}
		.show dl{width:400px;padding:5px 0;border-bottom:1px solid #cecece}
		.show .jsImgDel{cursor:pointer;}
		.js .note{font-size:14px;display:inline;color:#75715E;font-weight:400}
		.js strong{font-style:normal}
		.pr{line-height:25px;}
		.des{padding:3px;border:2px dotted #cecece;text-align:center;}
		fieldset .des{margin:0 auto;width:500px;text-align:left;text-indent: 2em;}
	</style>
</head>
<body>
	<!-- 头部开始 -->
<div class="head br4">
	<h1>验证API</h1>
</div>
	<!-- 头部结束 -->
	<!-- 内容主体区开始 -->
<div class="wrap">
	<div class="des br4">需要引入 验证JS文件 publicValid.js 需配置提示信息框，我的结构是li>input+.comment comment为提示框class</div>
	<div class="des br4" style='text-align:left;margin-top:3px;'>
		<div class="pr">需要建立一个validTip对像，用来当作验证提示函数，</div>
		<div class="pr">validTip={</div>
			<div class="pr pl1">//@obj 当前input对像，＠text提示文字</div>
			<div class="pr pl1">right:function(obj,text){//正确</div>
				<div class="note pl2">//这里面可以自己写-默认的是：</div>
				<div class="note pl2">//$(obj).closest('li').find('.comment').addClass('right').removeClass('wrong').html("<span>&nbsp;</span>"+text).css('display','inline-block');</div>
			<div class="pr pl1">},</div>
			<div class="pr pl1">wrong:function(obj,text){//错误</div>
				<div class="note pl2">//同上</div>
			<div class="pr pl1">},</div>
			<div class="PR pl1">normal:function(obj,text){//focus时</div>
				<div class="note pl2">//同上</div>
			<div class="pr pl1">}</div>
		<div class="pr">}</div>
	</div>
	<fieldset class='br4'>
		<legend>一个简单的身份证验证</legend>
		<h3 class='rule'>验证规则：输入的内容为身份证号码，并为必填项</h3>
		<div class="html">
			<h2 >HTML</h2>
			<code>
				ul>li>label+input+.comment
			</code>		
		</div>
		<div class="js">
			<h2>JS</h2>
			<code>
				<div class="pr">hbValidator('idnumber').validator({ <span class="note">//根据名称（idnumber）会自动生成一个valididnumber函数，返回验证结果（真或是假）</span></div>
				<div class="pr pl1">'#idnumber':{ <span class="note">//input的ID</span></div>
				<div class="pr pl2">wrong:'您输入的身份证号码有错误',<span class="note">//出错时的提示信息</span></div>
				<div class="pr pl2">right:'输入正确',<span class="note">//正确时的提示信息</span></div>
				<div class="pr pl2">empty:'您的输入不能为空' <span class="note">//输入为空的提示</span></div>
				<div class="pr pl2">handler:'idnumber',<span class="note">//要绑定的函数，插件里自代，idnumber email phone core empty几个函数</span></div>
				<div class="pr pl2">bind:{<span class="note">//绑定的事件</span></div>
				<div class="pr pl3">focus:'请输入身份证号码',<span class="note">//focus时 的提示文字 </span></div>
				<div class="pr pl3">blur:true <span class="note"><strong>//需要绑定验证函数的事件，true为必填项，false为选填</strong></span></div>
				<div class="pr pl2">}</div>
				<div class="pr pl1">}</div>
				<div class="pr">})</div>
			</code>
		</div>
		<div class="show">
			<h2>效果</h2>
			<ul>
				<li>
					<label for="idnumber">身份证号：</label>
					<input type="text"  id='idnumber'/>
					<div class="comment"></div>
				</li>
			</ul>
			<script type="text/javascript">
				hbValidator('idnumber').validator({
					'#idnumber':{
						wrong:'您输入的身份证号码有错误',//出错时的提示信息
						right:'输入正确',//正确时的提示信息
						empty:'您的输入不能为空',
						handler:'idnumber',//要绑定的函数，插件里自代，idnumber email phone core几个函数
						bind:{//绑定的事件
							focus:'请输入身份证号码',//focus时 的提示文字
							blur:true //需要绑定验证函数的事件，true为必填项，false为选填
						}
					}
				});
				$('.wrap').on('click','.jsA',function(){
					var result=valididnumber();
					$(this).html(result+'')
				})
			</script>	
		</div>
		<div class="pr"><a href="javascript:;" class="runCode jsA" title='点击查看运行结果'>run</a></div>
	</fieldset>
	<fieldset class='br4'>
		<legend>电子邮箱验证</legend>
		<h3 class="rule">验证规则：输入的内容为电子邮箱，非必填项(即如果有输入，必需正确)</h3>
		<div class="html">
			<h2>HTML</h2>
			<code>
				ul>li>label+input+.comment
			</code>		
		</div>
		<div class="js">
			<h2 class="js">JS</h2>
			<code >
				<div class="pr">hbValidator('email').validator({<span class="note">//最后返回的 验证结果 函数是validemail</span></div>
				<div class="pr pl1">'#email':{</div>
				<div class="pr pl2">wrong:'您输入的电子邮箱有错误', <span class="note">//出错时的提示信息</span></div>
				<div class="pr pl2">right:'输入正确', <span class="note">//正确时的提示信息</span></div>
				<div class="pr pl2">empty:'您的输入不能为空',</div>
				<div class="pr pl2">handler:'email',<span class="note">//要绑定的函数，插件里自代，idnumber email phone core empty几个函数</span></div>
				<div class="pr pl2">bind:{<span class="note">//绑定的事件</span></div>
				<div class="pr pl3">focus:'请输入电子邮箱',<span class="note">//focus时 的提示文字</span></div>
				<div class="pr pl3">blur:false <span class="note"><strong>//绑定blur事件，true为必填项，false为非必填项</strong></span></div>
				<div class="pr pl2">}</div>
				<div class="pr pl1">}</div>
				<div class="pr">});</div>
			</code>
		</div>
		<div class="show">
			<h2>效果</h2>
			<ul>
				<li>
					<label for="email">电子邮件</label>
					<input type="text"  id='email'/>
					<div class="comment"></div>
				</li>
				<script type="text/javascript">
					hbValidator('email').validator({
						'#email':{
							wrong:'您输入的电子邮箱有错误',//出错时的提示信息
							right:'输入正确',//正确时的提示信息
							empty:'您的输入不能为空',
							handler:'email',//要绑定的函数，插件里自代，idnumber email phone core几个函数
							bind:{//绑定的事件
								focus:'请输入电子邮箱',//focus时 的提示文字
								blur:false //blur后，是否为必填项
							}
						}
					});
					$('.wrap').on('click','.jsB',function(){
						var result=validemail();
						$(this).html(result+'')
					})
				</script>
			</ul>
		</div>
		<div class="pr"><a href="javascript:;" class="runCode jsB" title='点击查看运行结果'>run</a></div>
	</fieldset>
	<fieldset class='br4'>
		<legend>组合验证</legend>
		<h3 class="rule">（1）、验证一个手机号（必填）。（2）、用户名（用户名规则：非空即可。必填）</h3>
		<div class="html">
			<h2>HTML</h2>
			ul>li*2>label+input:text+.comment
		</div>
		<div class="js">
			<h2>JS</h2>
			<code>
				<div class="pr">hbValidator('validA').validator({  <span class="note">//最后返回真假的函数是 validvalidA</span></div>
					<div class="pr pl1">"#phone":{<span class="note">//手机号验证 #phone为手机码号input 的ID</span></div>
						<div class="pr pl2">wrong:'请输入正确的手机号码',</div>
						<div class="pr pl2">right:'手机号正确',</div>
						<div class="pr pl2">empty:'手机号码不能为空',</div>
						<div class="pr pl2">handler:'phone', <span class="note">//插件内置phone函数</span></div>
						<div class="pr pl2">bind:{</div>
							<div class="pr pl3">focus:'',//获得蕉点后，提示文字为空</div>
							<div class="pr pl3">blur:true//必填项</div>
						<div class="pr pl2">}</div>
					<div class="pr pl1">},</div>
					<div class="pr pl1">'#username':{ <span class="note">//用户名验证，规则是：非空即可</span></div>
						<div class="pr pl2">wrong:'请输入正确的用户名',</div>
						<div class="pr pl2">empty:'用户名不能为空',</div>
						<div class="pr pl2">right:'用户名正确',</div>
						<div class="pr pl2">handler:'empty', <span class="note">//插件内置函数</span></div>
						<div class="pr pl2">bind:{</div>
							<div class="pr pl3">focus:'请输入用户名',</div>
							<div class="pr pl3">blur:true</div>
						<div class="pr pl2">}</div>
					<div class="pr pl1">}</div>
				<div class="pr">});</div>
			</code>
		</div>
		<div class="show">
			<h2>效果</h2>
			<ul>
				<li>
					<label for="phone">手机号码：</label>
					<input type="text" name="" id="phone" />
					<div class="comment"></div>
				</li>
				<li>
					<label for="username">&emsp;用户名：</label>
					<input type="text" name="" id="username" />
					<div class="comment"></div>
				</li>
			</ul>
			<script type="text/javascript">
				hbValidator('validA').validator({//最后返回真假的函数是 validvalidA
					"#phone":{//手机号验证 #phone为手机码号input 的ID
						wrong:'请输入正确的手机号码',
						right:'手机号正确',
						empty:'手机号码不能为空',
						handler:'phone',//插件内置phone函数
						bind:{
							focus:'',//获得蕉点后，提示文字为空
							blur:true//必填项
						}
					},
					'#username':{
						wrong:'请输入正确的用户名',
						empty:'用户名不能为空',
						right:'用户名正确',
						handler:'empty',//插件内置函数
						bind:{
							focus:'请输入用户名',
							blur:true
						}
					}
				});
				$('.wrap').on('click','.jsC',function(){
					var result=validvalidA();
					$(this).html(result+'')
				})
			</script>
		</div>
		<div class="pr"><a href="javascript:;" class="runCode jsC" title='点击查看运行结果'>run</a></div>
	</fieldset>
	<fieldset class='br4'>
		<legend>自定义验证规则</legend>
		<div class="des">
			当handler传入core时，可以更改limit参数，限定验证规则
		</div>
		<h3 class="rule">验证规则：（1）、输入的内容 0~100之间的整数。（2）、输入的是整数。</h3>
		<div class="html">
			<h2>HTML</h2>
			<code>
				ul>li>label+input+.comment
			</code>
		</div>
		<div class="js">
			<h2>JS</h2>
			<code>
				<div class="pr">hbValidator('priceA').validator({</div>
					<div class="pr pl1">'#priceA':{</div>
						<div class="pr pl2">wrong:'您输入的价格有误',</div>
						<div class="pr pl2">right:'价格输入正确',</div>
						<div class="pr pl2">empty:"请输入价格",</div>
						<div class="pr pl2">handler:<strong>'core'</strong>,<span class="note">//当调用core核心函数时，传入limit</span> </div>
						<div class="pr pl2">limit:<strong>"value>=0&&value<=100&&/^\\d+$/.test(value)"</strong>,<span class="note">//limit为验证规则可以直接传入正则，也可以传入字符串，传入字符串时value为当前输入的值</span></div>
						<div class="pr pl2">bind:{</div>
							<div class="pr pl3">focus:'请输入价格，我的验证规则是limit传入的',</div>
							<div class="pr pl3">blur:true <span class="note">//必填项</span></div>
						<div class="pr pl2">} </div>
					<div class="pr pl1">},</div>
					<div class="pr pl1">'#ageA':{</div>
						<div class="pr pl2">wrong:'您输入年龄不正确',</div>
						<div class="pr pl2">right:'输入正确',</div>
						<div class="pr pl2">empty:"请输入年龄",</div>
						<div class="pr pl2">handler:<strong>'core'</strong>,<span class="note">//当调用core核心函数时，传入limit</span> </div>
						<div class="pr pl2">limit:<strong>/^\d+$/</strong>,<span class="note">//limit为验证规则可以直接传入正则，也可以传入字符串，传入字符串时value为当前输入的值</span></div>
						<div class="pr pl2">bind:{</div>
							<div class="pr pl3">focus:'我的验证规则是：/^\d+$/',</div>
							<div class="pr pl3">blur:true <span class="note">//必填项</span></div>
						<div class="pr pl2">} </div>
					<div class="pr pl1">}</div>
				<div class="pr">});</div>
			</code>
		</div>
		<div class="show">
			<h2>效果</h2>
			<ul>
				<li>
					<label for="priceA">请输入价格：</label>
					<input type="text"  id='priceA'/>
					<div class="comment"></div>
				</li>
				<li>
					<label for="ageA">请输入年龄：</label>
					<input type="text"  id='ageA'/>
					<div class="comment"></div>
				</li>
			</ul>
			<script type="text/javascript">
				hbValidator('priceA').validator({
					'#priceA':{
						wrong:'只能输入0-100之间的整数',
						right:'价格输入正确',
						empty:"请输入价格",
						handler:'core',//当调用core核心函数时，传入limit 
						limit:"value>=0&&value<=100&&/^\\d+$/.test(value)",//limit为验证规则可以直接传入正则，也可以传入字符串，传入字符串时value为当前输入的值
						bind:{
							focus:'请输入价格，我的验证规则是limit传入的',
							blur:true//必填项
						} 
					},
					'#ageA':{
						wrong:'只能输入整数',
						right:'输入正确',
						empty:"请输入年龄",
						handler:'core',//当调用core核心函数时，传入limit 
						limit:/^\d+$/,//limit为验证规则可以直接传入正则，也可以传入字符串，传入字符串时value为当前输入的值
						bind:{
							focus:'我的验证规则是：/^\\d+$/',
							blur:true//必填项
						} 
					}
				});
				$('.wrap').on('click','.jsD',function(){
					var result=validpriceA();
					$(this).html(result+'')
				});
			</script>
		</div>
		<div class="pr"><a href="javascript:;" class="runCode jsD" title='点击查看运行结果'>run</a></div>
	</fieldset>
	<fieldset class='br4'>
		<legend>自定义验证方法</legend>
		<div class="des">
			可以自定义一个方法(hbValidator.fn.custom)，然后传入handler中
		</div>
		<h3 class='rule'>验证规则，每个select都必需选择</h3>
		<div class="html">
			<h2>HTML</h2>
			<code>
				ul>li>.comment+select*2>option*3
			</code>
		</div>
		<div class="js">
			<h2>JS</h2>
			<code>
				<div class="pr">hbValidator.fn.<strong>select</strong>=function(config){ <span class="note">//自定义的方法 select，可以在下面 用handler:'select' 调用</span></div>
					<div class="pr pl1">var s1=$('#s1');</div>
					<div class="pr pl1">var s2=$('#s2');</div>
					<div class="pr pl1">if(s1.val()!=0&&s2.val()!=0){</div>
						<div class="pr pl2">validTip.right(s1,config.right);</div>
						<div class="pr pl2">return true; <span class="note">//返回傎，以供最后验证</span></div>
					<div class="pr pl1">}else{</div>
						<div class="pr pl2">validTip.wrong(s1,config.wrong);</div>
						<div class="pr pl2">return false; <span class="note">//返回假，以供最后验证</span></div>
					<div class="pr pl1">}</div>
				<div class="pr">};</div>
				<div class="pr">hbValidator('custom').validator({</div>
					<div class="pr pl1">'#s1':{</div>
						<div class="pr pl2">wrong:'您有没选择的项',</div>
						<div class="pr pl2">right:'对了',</div>
						<div class="pr pl2"><strong>handler:'select'</strong>,<span class="note">//这里传入的是自定义的方法</span></div>
						<div class="pr pl2">bind:{</div>
							<div class="pr pl3"><span class="note">//focus:'',</span></div>
							<div class="pr pl3">change:true//change事件后，进行验证，传入true为必填</div>						
						<div class="pr pl2">}</div>
					<div class="pr pl1">},</div>
					<div class="pr pl1">'#s2':{</div>
						<div class="pr pl2">wrong:'您有没选择的项',</div>
						<div class="pr pl2">right:'对了',</div>
						<div class="pr pl2"><strong>handler:'select',</strong> <span class="note">//这里传入的是自定义的方法</span></div>
						<div class="pr pl2">bind:{</div>
							<div class="pr pl3"><span class="note">//focus:'',</span></div>
							<div class="pr pl3">change:true//change事件后，进行验证，传入true为必填	</div>					
						<div class="pr pl2">}</div>
					<div class="pr pl1">}</div>
				<div class="pr">});</div>
			</code>
		</div>
		<div class="show">
			<h2>效果</h2>
			<ul>
				<li>
					<select name="" id="s1">
						<option value="0">请选择省</option>
						<option value="1">辽宁</option>
						<option value="2">广东</option>
					</select>
					<select name="" id="s2">
						<option value="0">请选择市</option>
						<option value="1">长春</option>
						<option value="2">沈阳</option>
					</select>
					<div class="comment"></div>
				</li>
				<script type="text/javascript">
					hbValidator.fn.select=function(config){//正定义的方法 select
						var s1=$('#s1');
						var s2=$('#s2');
						if(s1.val()!=0&&s2.val()!=0){
							validTip.right(s1,config.right);
							return true;//返回傎，以供最后验证
						}else{
							validTip.wrong(s1,config.wrong);
							return false;//返回假，以供最后验证
						}
					};
					hbValidator('custom').validator({
						'#s1':{
							wrong:'您有没选择的项',
							right:'对了',
							handler:'select',//这里传入的是自定义的方法
							bind:{
								//focus:'',
								change:true//change事件后，进行验证，传入true为必填							
							}
						},
						'#s2':{
							wrong:'您有没选择的项',
							right:'对了',
							handler:'select',//这里传入的是自定义的方法
							bind:{
								//focus:'',
								change:true//change事件后，进行验证，传入true为必填						
							}
						}
					});
					$('.wrap').on('click','.jsE',function(){
						var result=validcustom();
						$(this).html(result+'')
					});
				</script>
			</ul>
		</div>
		<div class="pr"><a href="javascript:;" class="runCode jsE" title='点击查看运行结果'>run</a></div>
	</fieldset>
	<fieldset class='br4'>
		<legend >自定义验证函数</legend>
		<div class="des">有的时候，只需要点击按钮时才去验证，这时可以自写义function</div>
		<h3 class="rule">验证规则：点击按钮时才会验证(验证是否上传了图片)</h3>
		<div class="html">
			<h2>HTML</h2>
			<code>
				ul>li>div>dl+dd
			</code>
		</div>
		<div class="js">
			<h2>JS</h2>
		</div>
		<div class="show">
			<h2>效果</h2>
			<ul>
				<li>
					<input id='addImg' type="button" value="添加图片" />
					<div id='jsImg'></div>
					<div class="comment"></div>
				</li>
				<script type="text/javascript">
					hbValidator('one').validator({
						'jsImg':function(){//'jsImg' 是留用的函数名,插件会自动调用
							var node=$('#jsImg');
							var dd=node.find('dd').length;
							if(dd>0){
								validTip.right(node,'正确');//
								return true;
							}else{
								validTip.wrong(node,'您还没有传图片');
								return false;
							}
						}
					});
					$('#addImg').bind('click',function(){//添加图片
						$(this).closest('li').find('.comment').hide();
						var uuid=new Date()*1+'.jpg';
						var node=$("<dl><dd>"+uuid+"</dd><dd class='jsImgDel'>删除</dd></dl>");
						$('#jsImg').append(node);
					});
					$('.wrap').on('click','.jsImgDel',function(){//删除图片
						$(this).closest('li').find('.comment').hide();
						$(this).parent().remove();
					})
					$('.wrap').on('click','.jsF',function(){//run
						var result=validone();
						$(this).html(result+'')
					});
				</script>
			</ul>
		</div>
		<div class="pr"><a href="javascript:;" class="runCode jsF" title='点击查看运行结果'>run</a></div>
	</fieldset>
	<fieldset>
		<legend>ajax验证</legend>
		<div class="des">比如手机号码，需要ajax做是否存在验证</div>
		<h3 class="rule">验证规则：手机号码验证同时AJAX验证手机号是否存在，后台设定 输入11111111111(11个1)时，为重复</h3>
		<div class="html">
			<h2>HTML</h2>
			<code>
				ul>li>label+input:text+.comment
			</code>
		</div>
		<div class="js">
			<h2>JS</h2>
			<code>
				<div class="pr">hbValidator('ajax').validator({</div>
					<div class="pr pl1">"#phoneA":{</div>
						<div class="pr pl2">wrong:'请输入正确的手机号码',</div>
						<div class="pr pl2">right:'手机号码可以使用',//这里是无用的</div>
						<div class="pr pl2">empty:'您还没有输入手机号码',</div>
						<div class="pr pl2">handler:'phone',</div>
						<div class="pr pl2">ajax:function(){</div>
							<div class="pr pl3">return hbValidator.fn.ajax({ <span class='note'>//返回插件内置的hbValidator.fn.ajax函数，您也可以自定义函数</span></div>
								<div class="pr pl4">url:'ajax.php', <span class="note">ajax地址</span></div>
								<div class="pr pl4">data:{'phone':$('#phoneA').val()},<span class="note">ajax传入的数据</span></div>
								<div class="pr pl4">wrong:'手机号码重复了',<span class="note">重复时的提示文字 </span></div>
								<div class="pr pl4">obj:$('#phoneA'), <span class="note">当前输入框对像</span></div>
								<div class="pr pl4">right:'手机号码可以使用',<span class="note">正确时的提示文字</span></div>
								<div class="pr pl4">call:'true',<span class="note">//当然后返回'true'时表示手机号码通过验证</span></div>
							<div class="pr pl3">})</div>
						<div class="pr pl2">},</div>
						<div class="note">
							<div class="pr pl2">//您也可以这样传入函数</div>
							<div class="pr pl2">/*ajax:function(){ </div>
							<div class="pr pl3">var ajaxStatus=flase; <span class="note">//返回的结果</span></div>
							<div class="pr pl3">$.ajax({</div>
							<div class="pr pl4">url:'ajax.php',</div>
							<div class="pr pl4">data:{'phone':$('#phoneA').val()},</div>
							<div class="pr pl4">type:'post',</div>
							<div class="pr pl4">async:false,</div>
							<div class="pr pl4">success:function(data){</div>
							<div class="pr pl4">if(data=='true'){</div>
							<div class="pr pl5">validTip.right($('#phoneA'),'手机号码可以使用');</div>
							<div class="pr pl5">ajaxStatus=true;</div>
							<div class="pr pl4">}else{</div>
							<div class="pr pl5">validTip.wrong($('#phoneA'),'手机号码重复了');</div>
							<div class="pr pl5">ajaxStatus=false;</div>
							<div class="pr pl4">}</div>
							<div class="pr pl4">}</div>
							<div class="pr pl3">})</div>
							<div class="pr pl3">return ajaxStatus;</div>
							<div class="pr pl2">}*/</div>
						</div>
						<div class="pr pl2">bind:{</div>
							<div class="pr pl3">focus:'请输入手机号码',</div>
							<div class="pr pl3">blur:true</div>
						<div class="pr pl2">}</div>
					<div class="pr pl1">}</div>
				<div class="pr">});</div>
			</code>
		</div>
		<div class="show">
			<h2>效果</h2>
			<ul>
				<li>
					<label for="phoneA">手机号码：</label>
					<input type="text" name="" id="phoneA" />
					<div class="comment"></div>
				</li>
			</ul>
			<script type="text/javascript">
				hbValidator('ajax').validator({
					"#phoneA":{
						wrong:'请输入正确的手机号码',
						right:'手机号码可以使用',//这里是无用的
						empty:'您还没有输入手机号码',
						handler:'phone',
						ajax:function(){
							return hbValidator.fn.ajax({//返回插件内置的hbValidator.fn.ajax函数，您也可以自定义函数
								url:'ajax.php',
								data:{'phone':$('#phoneA').val()},
								wrong:'手机号码重复了',
								obj:$('#phoneA'),
								right:'手机号码可以使用',
								call:'true',//当然后返回'true'时表示手机号码通过验证
							})
						},
						bind:{
							focus:'请输入手机号码',
							blur:true
						}
					}
				});

				$('.wrap').on('click','.jsGe',function(){//run
					var results=validajax()
					$(this).html(results+'')
				});
			</script>
		</div>
		<div class="pr"><div class="pr"><a href="javascript:;" class="runCode jsGe" title='点击查看运行结果'>run</a></div></div>
		<div class="des">我的空间有点卡，请先让文本框失去焦点，然后在点击run 避免一次发送两个AJAX 不然会出现BUG，我没有太好的办法解决！</div>
	</fieldset>
</div>
	<!-- 内容主体区结束 -->
</body>
</html>
